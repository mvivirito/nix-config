NIX-CONFIG IMPROVEMENT SUGGESTIONS
===================================

Based on analysis of the current configuration, here are potential improvements
organized by category.


KEYBOARD CONSISTENCY (NixOS → macOS parity)
-------------------------------------------

1. Add oneshot modifiers to Karabiner
   - NixOS keyd has `oneshot(control)` and `oneshot(shift)` for RSI reduction
   - Allows tapping a modifier once, then pressing the target key
   - File: home-manager/darwin/karabiner/karabiner.json

2. Add apostrophe→Control overload to macOS
   - NixOS has `' = overload(control, ')` in keyd.conf
   - Tap for apostrophe, hold for Control
   - File: home-manager/darwin/karabiner/karabiner.json


MISSING macOS KEYBINDS
----------------------

3. Add Discord, VS Code, VLC launchers to Aerospace
   - NixOS has: Mod+D (Discord), Mod+I (VS Code), Mod+Z (VLC)
   - macOS Aerospace only has: terminal, browser, 1Password, neovim
   - File: home-manager/darwin/aerospace.nix

4. Add screenshot keybinds to macOS
   - NixOS has Mod+G for selection screenshot to clipboard
   - NixOS has Mod+Shift+G for full screenshot to clipboard
   - macOS relies on system defaults (Cmd+Shift+4)
   - Consider adding consistent keybinds via Aerospace exec
   - File: home-manager/darwin/aerospace.nix

5. Add workspace overview keybind to macOS
   - NixOS has Mod+Tab for Niri overview mode
   - macOS could trigger Mission Control or use Aerospace workspace list
   - File: home-manager/darwin/aerospace.nix

6. Add system monitor keybind to macOS
   - NixOS has Mod+Shift+M for Mission Center
   - macOS could launch Activity Monitor
   - File: home-manager/darwin/aerospace.nix


CONFIGURATION ARCHITECTURE
--------------------------

7. Create macOS standalone homeConfiguration
   - flake.nix has `michael@nixos-laptop` in homeConfigurations
   - Missing `mvivirito@macbook` standalone config
   - Enables: home-manager switch --flake .#mvivirito@macbook
   - File: flake.nix

8. Consolidate terminal configuration
   - Ghostty is documented as primary terminal
   - Kitty is still fully configured in home-manager/core/kitty.nix
   - Options:
     a) Remove Kitty entirely if unused
     b) Make Kitty an explicit fallback (e.g., for SSH sessions)
     c) Document the purpose of having both
   - Files: home-manager/core/kitty.nix, home-manager/core/ghostty.nix

9. Create shared keybind abstraction module
   - Both platforms have similar keybind patterns (hjkl focus, 1-9 workspaces)
   - Could create a shared Nix module that generates platform-specific configs
   - Benefits: single source of truth, easier to maintain consistency
   - Files: New module in home-manager/shared/keybinds.nix (proposed)


SYSTEM FEATURES
---------------

10. Add Tailscale to macOS configuration
    - NixOS has Tailscale client enabled in hosts/nixos/shared/networking.nix
    - macOS doesn't manage Tailscale via nix-darwin
    - Could add to homebrew.nix casks or use Tailscale nix-darwin module
    - File: hosts/darwin/shared/homebrew.nix or darwin/configuration.nix

11. Add Touch ID for sudo on macOS
    - NixOS has fingerprint PAM integration for swaylock, sudo, login
    - macOS nix-darwin supports: security.pam.enableSudoTouchIdAuth = true
    - File: darwin/configuration.nix or hosts/darwin/shared/


DEVOPS / CI
-----------

12. Add flake check CI workflow
    - No GitHub Actions to validate configurations on PRs
    - Could run: nix flake check, nixos-rebuild dry-build, darwin-rebuild check
    - Catches syntax errors and evaluation failures before merge
    - File: .github/workflows/check.yml (proposed)


PRIORITY RECOMMENDATIONS
------------------------

High priority (quick wins):
- #3 Add app launchers to macOS (simple Aerospace config change)
- #7 Create macOS homeConfiguration (enables standalone home-manager)
- #11 Add Touch ID for sudo (single line in darwin config)

Medium priority (consistency):
- #1 Oneshot modifiers in Karabiner
- #4 Screenshot keybinds
- #10 Tailscale on macOS

Low priority (nice to have):
- #8 Terminal consolidation
- #9 Shared keybind abstraction
- #12 CI workflow
